<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Category Fund Summary</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script defer src="/static/category-summary.js"></script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-left">
            <div class="navbar-brand">EMPIRE</div>
            <input type="checkbox" id="nav-toggle" class="nav-toggle" />
            <label for="nav-toggle" class="nav-toggle-label">
                <span></span><span></span><span></span>
            </label>
        </div>
        <ul class="navbar-links">
            <li><a href="/">Home</a></li>
            <li><a href="/category-summary">Fund Categories</a></li>
            <li><a href="/logout" style="color: #e74c3c;">Logout</a></li>
        </ul>
    </nav>

    <main>
        <h3>Church Fund Category Summary</h3>

        <label for="category-select">Select Category:</label>
        <select id="category-select">
            {% if username == 'admin' %}
            <option value="tithes">Tithes</option>
            <option value="offering">Offering</option>
            <option value="fp">FP</option>
            <option value="hor">HOR</option>
            <option value="soc">SOC</option>
            <option value="sundayschool">Sunday School</option>
            <option value="for_visitor">For Visitor(bigas)</option>
            <option value="others">Others</option>
            <option value="tithes(tithes)">Tithes (Tithes)</option>
            <option value="offering(tithes)">Offering (Tithes)</option>
            <option value="fp(tithes)">FP (Tithes)</option>
            <option value="hor(tithes)">HOR (Tithes)</option>
            <option value="sundayschool(tithes)">Sunday School (Tithes)</option>
            <option value="crv">CRV</option>
            <option value="fp(hq)">FP (HQ)</option>
            <option value="hor(hq)">HOR (HQ)</option>
            <option value="sfc">SFC</option>
            <option value="ph">PH</option>
            <option value="amd">AMD</option>
            {% else %}
            <option value="offering">Offering</option>
            <option value="fp">FP</option>
            <option value="hor">HOR</option>
            <option value="soc">SOC</option>
            <option value="sundayschool">Sunday School</option>
            <option value="for_visitor">For Visitor(bigas)</option>
            <option value="others">Others</option>
            {% endif %}
        </select>




        <h4 id="category-title">Tithes</h4>
        <h5 id="cash-on-hand" style="margin-bottom: 16px; font-size: 1.5rem;">Cash on Hand: â‚±0.00</h5>

        <div class="table-wrapper">
            <table id="category-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Label</th>
                        <th>Total Expenses</th> <!-- ADD -->
                        <th>Remaining</th> <!-- ADD -->
                        <th>Action</th>

                    </tr>
                </thead>

                <tbody id="category-table-body">
                    <!-- JavaScript inserts rows here -->
                </tbody>
            </table>
        </div>

        <div class="modal-overlay" id="expense-modal">
            <div class="modal-content">
                <span class="modal-close" id="close-expense-modal">&times;</span>
                <h3>Add Expense for <span id="modal-category-name">Category</span></h3>
                <form id="expense-form">
                    <input type="hidden" id="expense-date" name="date">
                    <label for="expense-amount">Amount:</label>
                    <input type="number" id="expense-amount" step="0.01" required>
                    <label for="expense-label">Label:</label>
                    <input type="text" id="expense-label" required>
                    <label for="modal-category-select">Category:</label>
                    <select id="modal-category-select" required></select>
                    <button type="submit">Submit Expense</button>
                </form>
            </div>
        </div>

        <!-- Add Expense Button -->


        <!-- <button id="add-expense-btn" style="margin-top: 20px;">+ Add Expense</button> -->


    </main>
</body>

</html>